# PFR-AI: Фронтенд

Клиентская часть приложения для анализа пенсионных дел, разработанная с использованием React, TypeScript и Chakra UI.

## Функциональность

*   Отображает многошаговую форму для ввода данных пенсионного дела.
*   Использует `react-hook-form` для управления состоянием формы и валидации.
*   Использует `react-datepicker` и `react-imask` (через `CustomDateInput`) для удобного ввода дат и СНИЛС с масками.
*   Отправляет данные формы на бэкенд (`/process`).
*   Отображает результаты анализа (список ошибок или сообщение об успехе) с помощью компонента `ErrorDisplay` и уведомлений `useToast`.
*   Реализует отдельную страницу для просмотра истории обработанных дел (`/history`) с поиском и пагинацией.
*   Загружает и отображает историю дел с пагинацией с помощью компонента `HistoryList`.
*   Позволяет скачивать документы (PDF/DOCX) для записей истории, обращаясь к эндпоинту `/download_document`.
*   Использует `react-router-dom` для навигации между страницами.
*   Использует кастомную тему `Chakra UI` (`theme.ts`) в цветах российского флага.

## Основные компоненты

*   **`App.tsx`**: Корневой компонент, настраивает маршрутизацию (`Routes`, `Route`), отображает навигацию и содержит логику обработки ответов от формы.
*   **`pages/HistoryPage.tsx`**: Страница отображения истории. Загружает данные с `/history`, реализует поиск и отображает `HistoryList`.
*   **`components/CaseForm.tsx`**: Компонент-контейнер для многошаговой формы. Управляет активным шагом (`useSteps`), содержит общую логику валидации шагов (`handleNext`), отправки формы (`onSubmit`) и навигацию между шагами. Рендерит компоненты конкретных шагов.
*   **`components/formSteps/PersonalDataStep.tsx`**: Компонент для первого шага формы (Личные данные).
*   **`components/formSteps/WorkExperienceStep.tsx`**: Компонент для второго шага формы (Трудовой стаж). Использует `useFieldArray`.
*   **`components/formSteps/AdditionalInfoStep.tsx`**: Компонент для третьего шага формы (Доп. информация).
*   **`components/formInputs/CustomDateInput.tsx`**: Переиспользуемый компонент для ввода даты с маской (`IMaskInput`) и валидацией, используется внутри `DatePicker`.
*   **`components/HistoryList.tsx`**: Компонент для отображения списка истории дел в виде карточек (`Card`, `SimpleGrid`) с пагинацией.
*   **`components/ErrorDisplay.tsx`**: Компонент для отображения списка ошибок анализа в виде `Alert`.
*   **`theme.ts`**: Файл определения кастомной темы Chakra UI (цвета, стили компонентов).
*   **`utils.ts`**: Содержит вспомогательные функции (например, `formatDateForInput`).

## Установка и запуск

1.  **Требования:** Node.js (рекомендуется LTS версия), npm.
2.  Перейдите в директорию `frontend`:
    ```bash
    cd frontend
    ```
3.  **Установка зависимостей:**
    ```bash
    npm install
    ```
    Основные зависимости:
    *   `react`, `react-dom`: Библиотека UI.
    *   `typescript`: Типизация JavaScript.
    *   `@chakra-ui/react`, `@chakra-ui/icons`, `@emotion/react`, `@emotion/styled`, `framer-motion`: Библиотека UI компонентов и анимации.
    *   `react-hook-form`: Управление формами.
    *   `react-router-dom`: Маршрутизация.
    *   `react-datepicker`: Компонент выбора даты.
    *   `react-imask`: Компонент для масок ввода.
    *   `date-fns`: Библиотека для работы с датами.
    *   `react-icons`: Библиотека иконок.
4.  **Запуск сервера для разработки:**
    ```bash
    npm run dev
    ```
    Приложение будет доступно по адресу `http://localhost:5173` (или другому порту, указанному Vite). Сервер поддерживает Hot Module Replacement (HMR).
5.  **Сборка для продакшена:**
    ```bash
    npm run build
    ```
    Готовые к развертыванию файлы будут помещены в директорию `dist`.
6.  **Линтинг:**
    ```bash
    npm run lint
    ```

## Зависимость от Бэкенда

Фронтенд ожидает, что бэкенд запущен и доступен по адресу `http://127.0.0.1:8000` (задается константой `API_BASE_URL` в `pages/HistoryPage.tsx` и `components/CaseForm.tsx`).
